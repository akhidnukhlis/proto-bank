syntax = "proto3";

package notification;

option go_package = ".";

import "api/meta/proto/meta.proto";

/*
=================
Data
=================
*/
message NotificationData {
    string title = 1;
    string content = 2;
    string link_type = 3;
    string link = 4;
}

message Notification {
    uint32 id = 1;
    string status = 2;
    string actor = 3;
    NotificationData data = 4;
    string created_at = 5;
    string read_at = 6;
}


/*
=================
Parameter Request
=================
*/
message GetNotificationsRequest {
    string status = 1;
    uint32 page = 2;
    uint32 limit = 3;
}

message UpdateReadStatusNotificationRequest{
    uint32 id = 1;
    string string = 2;
}

message SendNotificationRequest {
    string type = 1;
    string case = 2;
    string message = 3;
    string amount = 4;
}

/*
=================
Response
=================
*/
message ListNotificationResponse {
    meta.Pagination pagination = 1;
    repeated Notification data = 2;
}


service NotificationService {
    rpc GetNotifications(GetNotificationsRequest) returns(ListNotificationResponse);
    rpc UpdateReadStatusNotification(UpdateReadStatusNotificationRequest) returns(ListNotificationResponse);
    rpc SendNotification(SendNotificationRequest) returns(meta.BaseResponse);
}